<div class="col-md-8 offset-md-2">
  <div class="content-block content-block-head">
    <h1>Report by dates</h1>
    <p> Operations for the period: <%= @start %> - <%= @end %>
    <% if @category == nil %>
      <p> All categories </p>
    <% else %>
      <p> Category of operations: <%= @category %> </p>
    <% end %>
  </div>
</div>

<div class="col-md-8 offset-md-2">
  <div class="content-block">
    <div>
      <canvas id="myChart"></canvas>
    </div>
  </div>
  <br>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart').getContext('2d');
  const data = {
    labels: <%= raw @dates %>,
    datasets: [{
      label: 'Period: ' + '<%= @start %>' + ' - ' + '<%= @end %>',
      data: <%= @amount %>,
      fill: false,
      borderColor: 'rgb(0, 0, 255)',
      tension: 0.1
    }]
  };
  const config = {
    type: 'line',
    data: data,
  };

  const myChart = new Chart(ctx, config)
</script>